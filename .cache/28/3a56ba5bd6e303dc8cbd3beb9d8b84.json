{"id":"bEr1","dependencies":[{"name":"/Users/user/Apps/chatGPTSpeechifier/package.json","includedInParent":true,"mtime":1681113431132}],"generated":{"js":"let e;chrome.runtime.onInstalled.addListener(()=>{console.log(\"[background] chrome.runtime.onInstalled initialize\")}),chrome.runtime.onMessage.addListener(function(t,s,o){\"play\"===t.type?chrome.tts.speak(t.text,{onEvent:function(s){console.log(\"Event \"+s.type+\" at position \"+s.charIndex),\"end\"==s.type&&(console.log(\"THis just ended\"),chrome.tabs.query({active:!0,currentWindow:!0},e=>{chrome.tabs.sendMessage(e[0].id,{trigger:\"finished\"})})),\"interrupted\"==s.type&&(e=t.id,chrome.tabs.query({active:!0,currentWindow:!0},t=>{chrome.tabs.sendMessage(t[0].id,{trigger:\"interrupted\",previousId:e})}))}}):\"pause\"===t.type?(console.log(\"This was paused\"),chrome.tts.pause()):\"resume\"===t.type&&(console.log(\"this prompt is to resume the speech\"),chrome.tts.resume())});"},"sourceMaps":{"js":{"mappings":[{"source":"background.js","original":{"line":5,"column":2},"generated":{"line":1,"column":0}},{"source":"background.js","name":"previousId","original":{"line":5,"column":6},"generated":{"line":1,"column":4}},{"source":"background.js","name":"chrome","original":{"line":1,"column":0},"generated":{"line":1,"column":6}},{"source":"background.js","name":"runtime","original":{"line":1,"column":7},"generated":{"line":1,"column":13}},{"source":"background.js","name":"onInstalled","original":{"line":1,"column":15},"generated":{"line":1,"column":21}},{"source":"background.js","name":"addListener","original":{"line":1,"column":27},"generated":{"line":1,"column":33}},{"source":"background.js","original":{"line":1,"column":39},"generated":{"line":1,"column":45}},{"source":"background.js","name":"console","original":{"line":2,"column":4},"generated":{"line":1,"column":50}},{"source":"background.js","name":"log","original":{"line":2,"column":12},"generated":{"line":1,"column":58}},{"source":"background.js","original":{"line":2,"column":16},"generated":{"line":1,"column":62}},{"source":"background.js","name":"chrome","original":{"line":7,"column":2},"generated":{"line":1,"column":118}},{"source":"background.js","name":"runtime","original":{"line":7,"column":9},"generated":{"line":1,"column":125}},{"source":"background.js","name":"onMessage","original":{"line":7,"column":17},"generated":{"line":1,"column":133}},{"source":"background.js","name":"addListener","original":{"line":7,"column":27},"generated":{"line":1,"column":143}},{"source":"background.js","original":{"line":7,"column":39},"generated":{"line":1,"column":155}},{"source":"background.js","name":"request","original":{"line":7,"column":48},"generated":{"line":1,"column":164}},{"source":"background.js","name":"sender","original":{"line":7,"column":57},"generated":{"line":1,"column":166}},{"source":"background.js","name":"sendResponse","original":{"line":7,"column":65},"generated":{"line":1,"column":168}},{"source":"background.js","original":{"line":9,"column":25},"generated":{"line":1,"column":171}},{"source":"background.js","name":"request","original":{"line":9,"column":8},"generated":{"line":1,"column":180}},{"source":"background.js","name":"type","original":{"line":9,"column":16},"generated":{"line":1,"column":182}},{"source":"background.js","name":"chrome","original":{"line":12,"column":6},"generated":{"line":1,"column":187}},{"source":"background.js","name":"tts","original":{"line":12,"column":13},"generated":{"line":1,"column":194}},{"source":"background.js","name":"speak","original":{"line":12,"column":17},"generated":{"line":1,"column":198}},{"source":"background.js","name":"request","original":{"line":13,"column":8},"generated":{"line":1,"column":204}},{"source":"background.js","name":"text","original":{"line":13,"column":16},"generated":{"line":1,"column":206}},{"source":"background.js","original":{"line":14,"column":8},"generated":{"line":1,"column":211}},{"source":"background.js","name":"onEvent","original":{"line":15,"column":10},"generated":{"line":1,"column":212}},{"source":"background.js","original":{"line":15,"column":19},"generated":{"line":1,"column":220}},{"source":"background.js","name":"event","original":{"line":15,"column":28},"generated":{"line":1,"column":229}},{"source":"background.js","name":"console","original":{"line":16,"column":12},"generated":{"line":1,"column":232}},{"source":"background.js","name":"log","original":{"line":16,"column":20},"generated":{"line":1,"column":240}},{"source":"background.js","original":{"line":16,"column":24},"generated":{"line":1,"column":244}},{"source":"background.js","name":"event","original":{"line":16,"column":35},"generated":{"line":1,"column":253}},{"source":"background.js","name":"type","original":{"line":16,"column":41},"generated":{"line":1,"column":255}},{"source":"background.js","original":{"line":16,"column":48},"generated":{"line":1,"column":260}},{"source":"background.js","name":"event","original":{"line":16,"column":66},"generated":{"line":1,"column":276}},{"source":"background.js","name":"charIndex","original":{"line":16,"column":72},"generated":{"line":1,"column":278}},{"source":"background.js","original":{"line":22,"column":30},"generated":{"line":1,"column":289}},{"source":"background.js","name":"event","original":{"line":22,"column":16},"generated":{"line":1,"column":296}},{"source":"background.js","name":"type","original":{"line":22,"column":22},"generated":{"line":1,"column":298}},{"source":"background.js","name":"console","original":{"line":24,"column":14},"generated":{"line":1,"column":305}},{"source":"background.js","name":"log","original":{"line":24,"column":22},"generated":{"line":1,"column":313}},{"source":"background.js","original":{"line":24,"column":26},"generated":{"line":1,"column":317}},{"source":"background.js","name":"chrome","original":{"line":26,"column":14},"generated":{"line":1,"column":336}},{"source":"background.js","name":"tabs","original":{"line":26,"column":21},"generated":{"line":1,"column":343}},{"source":"background.js","name":"query","original":{"line":26,"column":26},"generated":{"line":1,"column":348}},{"source":"background.js","original":{"line":26,"column":32},"generated":{"line":1,"column":354}},{"source":"background.js","name":"active","original":{"line":26,"column":34},"generated":{"line":1,"column":355}},{"source":"background.js","original":{"line":26,"column":42},"generated":{"line":1,"column":363}},{"source":"background.js","name":"currentWindow","original":{"line":26,"column":48},"generated":{"line":1,"column":365}},{"source":"background.js","original":{"line":26,"column":63},"generated":{"line":1,"column":380}},{"source":"background.js","name":"tabs","original":{"line":26,"column":72},"generated":{"line":1,"column":383}},{"source":"background.js","name":"chrome","original":{"line":27,"column":16},"generated":{"line":1,"column":387}},{"source":"background.js","name":"tabs","original":{"line":27,"column":23},"generated":{"line":1,"column":394}},{"source":"background.js","name":"sendMessage","original":{"line":27,"column":28},"generated":{"line":1,"column":399}},{"source":"background.js","name":"tabs","original":{"line":27,"column":40},"generated":{"line":1,"column":411}},{"source":"background.js","original":{"line":27,"column":45},"generated":{"line":1,"column":413}},{"source":"background.js","name":"id","original":{"line":27,"column":48},"generated":{"line":1,"column":416}},{"source":"background.js","original":{"line":27,"column":52},"generated":{"line":1,"column":419}},{"source":"background.js","name":"trigger","original":{"line":27,"column":54},"generated":{"line":1,"column":420}},{"source":"background.js","original":{"line":27,"column":63},"generated":{"line":1,"column":428}},{"source":"background.js","original":{"line":30,"column":30},"generated":{"line":1,"column":444}},{"source":"background.js","name":"event","original":{"line":30,"column":16},"generated":{"line":1,"column":459}},{"source":"background.js","name":"type","original":{"line":30,"column":22},"generated":{"line":1,"column":461}},{"source":"background.js","name":"previousId","original":{"line":31,"column":14},"generated":{"line":1,"column":468}},{"source":"background.js","name":"request","original":{"line":31,"column":27},"generated":{"line":1,"column":470}},{"source":"background.js","name":"id","original":{"line":31,"column":35},"generated":{"line":1,"column":472}},{"source":"background.js","name":"chrome","original":{"line":33,"column":14},"generated":{"line":1,"column":475}},{"source":"background.js","name":"tabs","original":{"line":33,"column":21},"generated":{"line":1,"column":482}},{"source":"background.js","name":"query","original":{"line":33,"column":26},"generated":{"line":1,"column":487}},{"source":"background.js","original":{"line":33,"column":32},"generated":{"line":1,"column":493}},{"source":"background.js","name":"active","original":{"line":33,"column":34},"generated":{"line":1,"column":494}},{"source":"background.js","original":{"line":33,"column":42},"generated":{"line":1,"column":502}},{"source":"background.js","name":"currentWindow","original":{"line":33,"column":48},"generated":{"line":1,"column":504}},{"source":"background.js","original":{"line":33,"column":63},"generated":{"line":1,"column":519}},{"source":"background.js","name":"tabs","original":{"line":33,"column":72},"generated":{"line":1,"column":522}},{"source":"background.js","name":"chrome","original":{"line":34,"column":16},"generated":{"line":1,"column":526}},{"source":"background.js","name":"tabs","original":{"line":34,"column":23},"generated":{"line":1,"column":533}},{"source":"background.js","name":"sendMessage","original":{"line":34,"column":28},"generated":{"line":1,"column":538}},{"source":"background.js","name":"tabs","original":{"line":34,"column":40},"generated":{"line":1,"column":550}},{"source":"background.js","original":{"line":34,"column":45},"generated":{"line":1,"column":552}},{"source":"background.js","name":"id","original":{"line":34,"column":48},"generated":{"line":1,"column":555}},{"source":"background.js","original":{"line":34,"column":52},"generated":{"line":1,"column":558}},{"source":"background.js","name":"trigger","original":{"line":34,"column":54},"generated":{"line":1,"column":559}},{"source":"background.js","original":{"line":34,"column":63},"generated":{"line":1,"column":567}},{"source":"background.js","name":"previousId","original":{"line":34,"column":78},"generated":{"line":1,"column":581}},{"source":"background.js","name":"previousId","original":{"line":34,"column":78},"generated":{"line":1,"column":592}},{"source":"background.js","original":{"line":44,"column":31},"generated":{"line":1,"column":602}},{"source":"background.js","name":"request","original":{"line":44,"column":14},"generated":{"line":1,"column":612}},{"source":"background.js","name":"type","original":{"line":44,"column":22},"generated":{"line":1,"column":614}},{"source":"background.js","name":"console","original":{"line":47,"column":6},"generated":{"line":1,"column":620}},{"source":"background.js","name":"log","original":{"line":47,"column":14},"generated":{"line":1,"column":628}},{"source":"background.js","original":{"line":47,"column":18},"generated":{"line":1,"column":632}},{"source":"background.js","name":"chrome","original":{"line":48,"column":6},"generated":{"line":1,"column":651}},{"source":"background.js","name":"tts","original":{"line":48,"column":13},"generated":{"line":1,"column":658}},{"source":"background.js","name":"pause","original":{"line":48,"column":17},"generated":{"line":1,"column":662}},{"source":"background.js","original":{"line":51,"column":31},"generated":{"line":1,"column":671}},{"source":"background.js","name":"request","original":{"line":51,"column":14},"generated":{"line":1,"column":682}},{"source":"background.js","name":"type","original":{"line":51,"column":22},"generated":{"line":1,"column":684}},{"source":"background.js","name":"console","original":{"line":53,"column":6},"generated":{"line":1,"column":691}},{"source":"background.js","name":"log","original":{"line":53,"column":14},"generated":{"line":1,"column":699}},{"source":"background.js","original":{"line":53,"column":18},"generated":{"line":1,"column":703}},{"source":"background.js","name":"chrome","original":{"line":54,"column":6},"generated":{"line":1,"column":742}},{"source":"background.js","name":"tts","original":{"line":54,"column":13},"generated":{"line":1,"column":749}},{"source":"background.js","name":"resume","original":{"line":54,"column":17},"generated":{"line":1,"column":753}}],"sources":{"background.js":"chrome.runtime.onInstalled.addListener(() => {\n    console.log('[background] chrome.runtime.onInstalled initialize'); \n  });\n\n  let previousId;\n\n  chrome.runtime.onMessage.addListener(function(request, sender, sendResponse) {\n\n    if (request.type === 'play') {\n\n      \n      chrome.tts.speak(\n        request.text,\n        {\n          onEvent: function(event) {\n            console.log('Event ' + event.type + ' at position ' + event.charIndex);\n\n            // console.log(event.type);\n\n\n\n            if (event.type == 'end') {\n\n              console.log(\"THis just ended\");\n\n              chrome.tabs.query({ active: true, currentWindow: true }, (tabs) => {\n                chrome.tabs.sendMessage(tabs[0].id, { trigger: \"finished\" });\n              });              \n            }\n            if (event.type == 'interrupted') {\n              previousId = request.id\n\n              chrome.tabs.query({ active: true, currentWindow: true }, (tabs) => {\n                chrome.tabs.sendMessage(tabs[0].id, { trigger: \"interrupted\", previousId });\n              });              \n                \n            }\n          }\n        },\n      );\n\n\n\n    } else if(request.type === 'pause') {\n\n\n      console.log(\"This was paused\");\n      chrome.tts.pause();\n\n\n    } else if(request.type === 'resume') {\n\n      console.log(\"this prompt is to resume the speech\");\n      chrome.tts.resume();\n\n\n    }\n\n  })\n  "},"lineCount":null}},"error":null,"hash":"e75cc7fdb559cf359f9dd9e6564f6f4a","cacheData":{"env":{}}}